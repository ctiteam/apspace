<ion-header>
  <ion-toolbar>
    <ion-title>Feedback</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size-xs="12" size-lg="4">
        <ion-card no-padding no-margin>
          <ion-card-header class="colored-border">
            <ion-card-title>Important Notice</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <h5 class="text">
              This Service can be used when you have any questions, concerns, or feature request <span
                class="danger-text">related to APSpace</span>.
            </h5>

            <h5 class="text">
              The feedback will be received by the <span class="bold">Centre of Technology and Innovation (CTI)</span>
              and we will do our best to keep up the standards so you enjoy our service.
            </h5>

            <h5 class="bold text">
              Please note that your identity or contact information will BE REVEALED to the person receiving this
              Feedback.
            </h5>

            <h5 class="text">
              If you have a feedback which is not related to the APSpace (ex: feedback related to buses, network,
              classrooms...), you can use our
              <a class="colored-text text-bolder" (click)="openOnlineFeedbackSystem()">Online Feedback System</a>
              to send your feedback to the person who is in charge.
            </h5>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size-xs="12" size-lg="8">
        <ion-card no-padding no-margin>
          <ion-card-header class="colored-border">
            <ion-card-title>Your Feedback</ion-card-title>
          </ion-card-header>
          <ion-card-content class="ion-no-padding">
            <ion-item lines="none">
              <ion-label position="stacked">Message:</ion-label>
              <ion-textarea class="form-input" autofocus="true" autosize rows="4" [(ngModel)]="message"
                (ngModelChange)="onMessageFieldChange($event)" required="true"></ion-textarea>
            </ion-item>

            <ion-item lines="none">
              <ion-label position="stacked">Contact Number: <small>(Optional)</small></ion-label>
              <ion-input class="form-input" type="text" [(ngModel)]="contactNo" (ngModelChange)="onPhoneNumberChange()">
              </ion-input>
            </ion-item>
            <small *ngIf="contactNo && !phoneNumberValid" class="danger-text">Phone number is invalid. Please check the
              number and enter a correct phone number (Exactly 10 or 11 digits)
            </small>
            <ion-item lines="none">
              <ion-label position="stacked">App Version</ion-label>
              <ion-input class="form-input" type="text" disabled [value]="appVersion"></ion-input>
            </ion-item>
            <ion-item lines="none">
              <ion-label position="stacked">Screen Size</ion-label>
              <ion-input class="form-input" type="text" disabled [value]="screenSize"></ion-input>
            </ion-item>

            <ion-item lines="none">
              <ion-label position="stacked">Platform</ion-label>
              <ion-textarea rows="4" class="form-input" type="text" disabled [value]="platform"></ion-textarea>
            </ion-item>

            <div class="ion-padding">
              <ion-button expand="full" class="colored-background" (click)="submitFeedback()"
                [disabled]="!message || (!phoneNumberValid && contactNo !== '')">
                Submit
              </ion-button>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>